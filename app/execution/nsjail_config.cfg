name: "python-executor"
mode: ONCE
time_limit: 10

clone_newnet: false
clone_newuser: false
clone_newns: true
clone_newpid: true
clone_newipc: true
clone_newuts: true
clone_newcgroup: false

keep_env: false
envar: "PATH=/usr/local/bin:/usr/bin:/bin"
envar: "PYTHONUNBUFFERED=1"

rlimit_as_type: HARD
rlimit_as: 536870912
rlimit_core: 0
rlimit_cpu: 5
rlimit_fsize: 10485760
rlimit_nofile: 64
rlimit_nproc: 64
rlimit_stack: 8388608

mount {
  src: "/lib"
  dst: "/lib"
  is_bind: true
  rw: false
}

mount {
  src: "/usr"
  dst: "/usr"
  is_bind: true
  rw: false
}

mount {
  src: "/etc"
  dst: "/etc"
  is_bind: true
  rw: false
}

mount {
  src: "/bin"
  dst: "/bin"
  is_bind: true
  rw: false
  mandatory: false
}

mount {
  src: "/dev/null"
  dst: "/dev/null"
  is_bind: true
  rw: true
}

mount {
  src: "/dev/urandom"
  dst: "/dev/urandom"
  is_bind: true
  rw: false
}

mount {
  src: "/app/app/execution/wrapper.py"
  dst: "/wrapper.py"
  is_bind: true
  rw: false
}

mount {
  src: "/tmp/nsjail_exec"
  dst: "/tmp"
  is_bind: true
  rw: true
}

cwd: "/tmp"
